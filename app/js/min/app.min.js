"use strict";var App=App||{};
!function(){function n(p,t){return function(n){p.apply(null,[arguments,t])}}(App||(App={})).Delegate=n}();
!function(e){var t=e.Delegate,a=(l.prototype._createElement=function(){this.elem=document.createElement("div"),this.elem.className="playerCard",this.data.length&&this._renderSelect()},l.prototype._renderSelect=function(){this.selectElem=document.createElement("select"),this.selectElem.className="playerCard-PlayerSelect";var e=document.createElement("option"),t=document.createTextNode("Select a player...");e.appendChild(t),this.selectElem.appendChild(e);for(var a=0;a<this.data.length;a++){var l=this.data[a].player,n=document.createElement("option"),r=document.createTextNode(l.name.first+" "+l.name.last);n.setAttribute("data-player",a),n.appendChild(r),n.className="playerCard-PlayerSelect_Option",this.selectElem.appendChild(n)}this.selectElem.addEventListener("change",this.selectPlayer_delegate),this.elem.appendChild(this.selectElem)},l.prototype._selectPlayerHandler=function(e,t){var a=e[0].target,l=a.options[a.selectedIndex].getAttribute("data-player")-0;t.player&&(t.player.parentNode.removeChild(t.player),t.player=null),t.player=t._createPlayer(t.data[l]),t.elem.appendChild(t.player)},l.prototype._createPlayer=function(e){var t=e.player,a=e.stats,l=document.createElement("div"),n=document.createElement("img"),r=document.createElement("div"),d=document.createElement("div"),s=document.createElement("div"),p=document.createElement("h2"),c=document.createElement("h4"),i=document.createElement("div"),m=document.createTextNode(t.name.first+" "+t.name.last),o=document.createTextNode(t.info.positionInfo);if(l.className="playerCard-PlayerContainer",n.className="playerCard-Image_Image",r.className="playerCard-Info",d.className="playerCard-InfoWrapper",s.className="playerCard-InfoDetails",p.className="playerCard-InfoDetails_Name",c.className="playerCard-InfoDetails_Title",i.className="playerCard-Info_TeamLogo playerCard-Info_TeamLogo-"+t.currentTeam.id,n.src="./assets/p"+t.id+".png",n.alt=t.name.first+" "+t.name.last,l.appendChild(n),p.appendChild(m),c.appendChild(o),s.appendChild(p),s.appendChild(c),d.appendChild(s),d.appendChild(i),r.appendChild(d),a.length)for(var h=0;h<a.length;h++){var y=document.createElement("div"),C=document.createElement("span"),u=document.createElement("span"),E=document.createTextNode(a[h].name.replace("_"," ")),f=document.createTextNode(a[h].value);y.className="playerCard-InfoStatsItem",C.className="playerCard-InfoStatsItem_Text",u.className="playerCard-InfoStatsItem_Stat",C.appendChild(E),u.appendChild(f),y.appendChild(C),y.appendChild(u),r.appendChild(y)}return l.appendChild(r),l},l.prototype._dispose=function(){this.selectElem.removeEventListener("change",this.selectPlayer_delegate),this.elem.parentNode.removeChild(this.elem)},l);function l(e){return this.data=e.playersData.players,this.elem=null,this.selectElem=null,this.player=null,this.selectPlayer_delegate=new t(this._selectPlayerHandler,this),this._createElement(),this.dispose=this._dispose,this}e.PlayerCard=a}(App=App||{});
!function(e){var t=e.PlayerCard,a=(r.prototype._fetchPlayersData=function(){var e=this,a=new XMLHttpRequest;a.overrideMimeType("application/json"),a.open("GET","./data/player-stats.json",!0),a.onload=function(){return e.renderPlayersCard(JSON.parse(a.responseText))},a.send()},r.prototype.renderPlayersCard=function(e){var a=new t({playersData:e});this.playerStatsElem.appendChild(a.elem)},r);function r(){this.playerStatsElem=document.getElementById("player"),this._fetchPlayersData()}e.Player=a}(App=App||{}),App.Player=new App.Player;